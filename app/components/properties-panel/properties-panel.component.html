<div id="wrapper">
    <h2>Properties</h2>
    <div *ngIf="isEmpty" id="empty">
        <p>empty</p>
    </div>

    <div *ngIf="!isEmpty">
        <table *ngFor="let name of fieldNames" class="group-table">
            <template [ngIf]="fields[name]">
                <tr><th colspan="2">{{name}}</th></tr>
                <tr *ngFor="let pair of fields[name]">
                    <td class="label">{{pair[0]}}</td>
                    <td [ngSwitch]="pair[1].name">
                        <div *ngSwitchCase="'string'">
                            <input [ngModel]="element[pair[0]]" (ngModelChange)="element[pair[0]] = $event" type="text" class="text-input"/>
                        </div>
                        <div *ngSwitchCase="'number'">
                            <input [ngModel]="element[pair[0]]" (ngModelChange)="element[pair[0]] = $event" type="number" class="number-input"/>
                        </div>
                        <div *ngSwitchCase="'boolean'">
                            <input [ngModel]="element[pair[0]]" (ngModelChange)="element[pair[0]] = $event" type="checkbox"/>
                        </div>
                        <div *ngSwitchDefault> 
                           <label *ngIf="pair[1].isAssignableTo(lookupSinapType('Color')); let did = true" class="color-label" for="property{{pair[0]}}">
                                <span class="color-preview" [style.background-color]="element[pair[0]]"></span>
                                {{element[pair[0]]}}
                                <input [ngModel]="element[pair[0]]" (ngModelChange)="element[pair[0]] = $event" id="property{{pair[0]}}" type="color" class="color-input"/>
                            </label>

                        </div>
                    </td>
                </tr>
            </template>
        </table>
    </div>
</div>